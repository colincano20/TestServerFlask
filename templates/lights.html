<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Light Control</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='lights.css') }}">
    <script>
        async function setBrightness(value) {
            await fetch(`/lights/brightness/${value}`);
        }

        async function setColor(color) {
            const hex = color.replace('#', '');
            await fetch(`/lights/color/${hex}`);
        }

        async function setHue(value) {
            await fetch(`/lights/hue/${value}`);
        }

        async function setSaturation(value) {
            await fetch(`/lights/saturation/${value}`);
        }
    </script>
</head>
<body>
    <div class="background-glow">
    <div class="container">
        <h1>ðŸ’¡ Light Control</h1>

        <div class="button-group">
            <a href="/lights/on" class="btn on">Turn On</a>
            <a href="/lights/off" class="btn off">Turn Off</a>
        </div>

        <div class="control">
            <label>Brightness: <span id="brightness-value">50</span>%</label>
            <input type="range" min="0" max="100" value="50" 
                   oninput="document.getElementById('brightness-value').innerText=this.value; setBrightness(this.value)">
        </div>

        <div class="control">
            <label>Color Picker:</label>
            <input type="color" value="#ffffff" oninput="setColor(this.value)">
        </div>

        <div class="control">
            <label>Hue: <span id="hue-value">180</span>Â°</label>
            <input type="range" min="0" max="360" value="180"
                   oninput="document.getElementById('hue-value').innerText=this.value; setHue(this.value)">
        </div>

        <div class="control">
            <label>Saturation: <span id="sat-value">100</span>%</label>
            <input type="range" min="0" max="100" value="100"
                   oninput="document.getElementById('sat-value').innerText=this.value; setSaturation(this.value)">
        </div>

        <div class="footer">
            <a href="/dashboard" class="btn back">â¬… Back to Dashboard</a>
        </div>
    </div>
    </div>
</body>
</html>
